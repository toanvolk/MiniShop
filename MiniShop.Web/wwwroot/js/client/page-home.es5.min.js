"use strict";(function(n,t){var h="#mnshop-btn-product-search",i=".mshop-product-client",l=".mnshop-product-hero",r=".mshop-filter",a=".search__result",u=".btn-categorys",o,f=0,s=0,v=function(n){var t="";return n.tag==cdC.productTag.HOT&&(t="/shared/Icon/icon-hot-2.gif"),n.tag==cdC.productTag.NEW&&(t="/shared/Icon/icon-new-1.gif"),'\n            <div class="col-xs-12 col-md-6 col-lg-3">\n\t<!-- First product box start here-->\n\t<div class="prod-info-main prod-wrap clearfix">\n\t\t<div class="row">\n\t\t\t\t<div class="col-md-3 col-sm-3 col-xs-3">\n\t\t\t\t\t<div class="product-image"> \n                        <div class="border"><\/div>\n                        <div class="main-element">\n                            <img src="{#:picture}" class="img-responsive">   \n                        <\/div>\n\t\t\t\t\t\t<span class="tag2">\n\t\t\t\t\t\t\t<img src="{#:picture-hot}" style="width: 30px">  \n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class="col-md-9 col-sm-9 col-xs-9">\n\t\t\t\t    <div class="product-deatil">\n\t\t\t\t\t\t    <h5 class="name">\n\t\t\t\t\t\t\t    <a href="{#:trackingLink}" style="font-weight: 700;">\n\t\t\t\t\t\t\t\t    {#:name}\n\t\t\t\t\t\t\t    <\/a>\t\t\t\t\t\t\t \n\t\t\t\t\t\t    <\/h5>\n                                <span class="tag1">\n\t\t\t\t\t\t\t        <button class="btn-read-more" data-link="{#:link}" data-id="{#:id}" style="margin: 0 auto">\n                                      <span>Chi tiết<\/span>\n                                    <\/button>\n\t\t\t\t\t\t        <\/span>\n\t\t\t\t\t\t    <p class="price-container">\n\t\t\t\t\t\t\t    <span>{#:price}<\/span>\n                                <a title="Giá tham khảo, có thể chênh lệch với giá thực tế" class="text-decoration-none">\n    <svg width="0.6em" height="0.6em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n      <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>\n      <circle cx="8" cy="4.5" r="1"/>\n    <\/svg>\n    <\/a>\n\t\t\t\t\t\t    <\/p>\n\t\t\t\t\t\t\n\t\t\t\t    <\/div>\n\t\t\t\t\n\t\t\t<\/div>\n            <div class="description">\n\t\t\t\t\t<p>{#:description}<\/p>\n\t\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\t<!-- end product -->\n<\/div>\n                        '.replaceAll(new RegExp("{#:picture}","gi"),n.picture).replaceAll(new RegExp("{#:id}","gi"),n.id).replaceAll(new RegExp("{#:picture-hot}","gi"),t).replaceAll(new RegExp("{#:name}","gi"),n.name).replaceAll(new RegExp("{#:trackingLink}","gi"),"/san-pham/"+n.code).replaceAll(new RegExp("{#:link}","gi"),"/san-pham/"+n.code).replaceAll(new RegExp("{#:price}","gi"),helper.formatNumber.k(n.price)).replaceAll(new RegExp("{#:description}","gi"),n.description?helper.formatString.truncate(helper.formatString.decodeHtml(n.description,{normal:!0}),150):"").replaceAll(new RegExp("{#:categoryName}","gi"),n.categoryName||"")},y=function(n){return'\n                        <li>\n                            <div class="img-hero" style="background-image: url({#:bigPicture}); width: 100%;\n    float: left;\n    margin-right: -100%;\n    opacity: 1;\n    z-index: 2;\n    background-repeat: no-repeat;\n    background-size: 100% 100%;"><\/div>\n                            <div class="overlay-gradient"><\/div>\n                            <div class="container">\n                                <div class="col-md-6 col-md-offset-3 col-md-pull-3 js-fullheight slider-text">\n                                    <div class="slider-text-inner button-pulse">\n                                        <div class="desc">\n                                            <span class="price">{#:price}<\/span>\n                                            <h2>{#:name}<\/h2>\n                                            <p style="color: #e5c72a;">{#:description}<\/p>\n                                            <p class="button"><a href="{#:trackingLink}" target="_blank" class="btn-read-more pulse" data-id="{#:id}">Xem chi tiết<\/a><\/p>\n                                        <\/div>\n                                    <\/div>\n                                <\/div>\n                            <\/div>\n                        <\/li>\n                    '.replaceAll(new RegExp("{#:bigPicture}","gi"),n.bigPicture).replaceAll(new RegExp("{#:id}","gi"),n.id).replaceAll(new RegExp("{#:name}","gi"),n.name).replaceAll(new RegExp("{#:price}","gi"),helper.formatNumber.k(n.price)).replaceAll(new RegExp("{#:description}","gi"),n.description?helper.formatString.truncate(helper.formatString.decodeHtml(n.description,{normal:!0}),150):"").replaceAll(new RegExp("{#:trackingLink}","gi"),"/san-pham/"+n.code)},p=function(n){return'<a class="btn" data-id="{#:id}" data-name= "{#:name}">{#:name}<\/a>'.replaceAll(new RegExp("{#:id}","gi"),n.id).replaceAll(new RegExp("{#:name}","gi"),n.name)};n(h).keyup(function(){clearTimeout(o);c("");n(r+" .loader").show();o=setTimeout(function(){e(!0);n(r+" .loader").hide()},2500)});var w=function(){var i,t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i="home/producthero",t="",r.next=4,regeneratorRuntime.awrap(n.get(i,function(i){i.source&&n(i.source).each(function(n,i){t+=y(i)})}));case 4:n(l+" ul.slides").html(t);helper.bridgeHandle.sliderMain();case 6:case"end":return r.stop()}},null,this)},b=function(){var r,t;return regeneratorRuntime.async(function(f){for(;;)switch(f.prev=f.next){case 0:return r="home/getcategorys",t='<a class="btn" data-id="ALL" data-name="Tất cả">Tất cả<\/a>',f.next=4,regeneratorRuntime.awrap(n.get(r,{},function(i){i&&n(i).each(function(n,i){t+=p(i)})}));case 4:n(i+" "+u).html(t);case 5:case"end":return f.stop()}},null,this)},c=function(t){n(r+" "+a).text(t)},e=function(t){var a=n(".mshop-filter").data("cardId"),l,p;t&&(f=0,s=0,n(i).find("#"+a).html(""),n(i+" .msshop-product-nav.read-more").show());var e="home/productpage{#:_paramStrs}",y="",o=[];n(i+" "+u+" a.active").each(function(t,i){var r=n(i).data("id");r!="ALL"&&o.push(n(i).data("id"))});l=n(r).find(h).first().val();(l||o!=[])&&(p={TextSearch:l,CategoryIds:o,SkipCount:f,TakeRecords:cdC.pageSize},y="?paramStrs="+JSON.stringify(p));e=e.replaceAll(new RegExp("{#:_paramStrs}","gi"),y||"");n.get(e,{},function(t){var u="",r;n(t.source).each(function(n,t){u+=v(t)});s=t.total;n(h).val()&&(r="Tìm thấy {#:totalItem} kết quả",r=r.replaceAll(new RegExp("{#:totalItem}","gi"),t.total),c(r));f+=t.source.length;n(i).find("#"+a).append(u);console.log("numberDeplayLazy: "+f,"numberCountMax :"+s);f==s&&f!=0&&n(i+" .msshop-product-nav.read-more").hide()})};w();b();n(r+" .loader").hide();n(t).on("click",i+" .btn-read-more, "+l+" .btn-read-more",function(t){var i=n(t.target).data("link"),r;i||(i=n(t.target).parent().data("link"));r=n(t.target).data("id");open(i)});n(t).on("click",i+" "+u+" a",function(t){t.preventDefault();n(t.target).hasClass("active")?n(t.target).removeClass("active"):n(t.target).addClass("active");n(t.target).data("id")=="ALL"?(n(i+" "+u+" a").removeClass("active"),n(t.target).addClass("active")):n(i+" "+u+" a[data-id=ALL]").removeClass("active");clearTimeout(o);c("");n(r+" .loader").show();o=setTimeout(function(){e(!0);n(r+" .loader").hide()},700);e(!0)});n(t).on("click",i+" .msshop-product-nav.read-more p.button",function(){e()});n(t).on("click",".mnshop-service-client a.service-read-more",function(t){var r=n(t.target).data("group");typeof r=="undefined"&&(r=n(t.target).closest("a").data("group"));n(i+" "+u+" a").removeClass("active");r=="thuc-pham-chuc-nang"&&n(i+" a").each(function(t,i){["2fc89e20-b009-427b-8e34-4483bc0638fa","8829d257-bafd-494b-bd6c-fce6954791b2"].indexOf(n(i).data("id"))!=-1&&n(i).click()});r=="my-pham"&&n(i+" a").each(function(t,i){["ecac91c4-c0a2-41ae-b1e0-526e7134dd02","717db383-b665-40c1-864c-635aa0b711f0","68163f53-529a-4177-9835-9ff5825b1741"].indexOf(n(i).data("id"))!=-1&&n(i).click()});r=="dac-tri"&&n(i+" a").each(function(t,i){["f2919983-d99a-4361-b1df-8be8ed873a41"].indexOf(n(i).data("id"))!=-1&&n(i).click()})});e()})($,document);