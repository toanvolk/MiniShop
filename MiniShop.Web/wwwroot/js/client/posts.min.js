(function(){function u(t,i){$(".load-convert").show();let u="",f=n[t].split(" ");return i.forEach(function(n){let t=r.indexOf(n);u+=t==-1?n:f[t]}),$(".load-convert").hide(),u}function f(t){$(".load-convert").show();let u="",i=escape(t),f=escape(" ");while(i!=""){let t=i;if(n.forEach(function(n){let t=n.split(" ");t.forEach(function(n,t){let e=escape(n);if(i.startsWith(f)&&(u+=" ",i=i.replace(f,"")),i.startsWith(e)){u+=r[t];i=i.replace(e,"");return}})}),t==i){let n=i.split(f);n.length>0&&(u+=unescape(n[0]),i=i.replace(n[0],""))}}return $(".load-convert").hide(),u}var i="",r=undefined,n=[],t;(function(){i=unescape($("#d-f-standand").text());r=i.split(" ");n.push(i);let u=JSON.parse($("#d-f-sign").text());u.map(t=>{n.push(unescape(t.fontSign))});let f=JSON.parse($("#d-f-sign-template").text());f.map(n=>{let t="<li>"+unescape(n.fontSign)+"<\/li>";$("ul.font-template-items").append(t)});$(".load-convert").hide();$("span.copy-status").hide();let t="";$(n).each(function(){t+="<li><\/li>"});$(".mshop-tool-post.tool ul").html(t)})();t=!1;$(".mshop-tool-post.tool ul li").on("click",function(n){let t=$(n.target).data("start-select"),u=$(n.target).data("end-select"),i=$(n.target).data("vlue");if(typeof i!="undefined"){let r=$(".content-edit textarea").val(),f=r.substring(0,t)+i+r.substring(u);$(".content-edit textarea").val(f);$(".content-edit textarea")[0].setSelectionRange(t,t+i.length);$(".content-edit textarea")[0].focus()}});$(".mshop-tool-post.content textarea").select(function(n){let o=$(n.target).val(),r=$(n.target)[0].selectionStart,e=$(n.target)[0].selectionEnd,i=o.substring(r,e);t||(i=f(i),console.log(i),$(".mshop-tool-post.tool ul li").each(function(n,t){let h=i.split(""),r=u(n,h),f=r.split(" "),e="",o=0;f.forEach(function(n){o<=8&&(e+=n+" ");o++});let s="";f.length>9&&(s="...");$(t).data("vlue",r);$(t).text(e+s)}),$(".mshop-tool-post.tool ul li").data("start-select",r),$(".mshop-tool-post.tool ul li").data("end-select",e))});$(".category p").on("click",function(n){let t=$(n.target).text(),i=$(".content-edit textarea")[0].selectionStart,u=$(".content-edit textarea")[0].selectionEnd,r=$(".content-edit textarea").val(),f=r.substring(0,i)+t+r.substring(u);$(".content-edit textarea").val(f);$(".content-edit textarea")[0].selectionEnd=i+t.length;$(".content-edit textarea")[0].focus()});$("#btn-copy").on("click",function(){t=!0;$(".mshop-tool-post.content textarea").select();document.execCommand("copy");$("span.copy-status").show();setTimeout(function(){$("span.copy-status").fadeOut(1500);t=!1},1500)});$(".template ul li").on("click",function(n){let t=$(n.target).text(),i=$(".content-edit textarea")[0].selectionStart,u=$(".content-edit textarea")[0].selectionEnd,r=$(".content-edit textarea").val(),f=r.substring(0,i)+t+r.substring(u);$(".content-edit textarea").val(f);$(".content-edit textarea")[0].selectionEnd=i+t.length;$(".content-edit textarea")[0].focus()})})(),function(n){var r=n.find("button").first(),t=n.find("input[name=name]").first(),i=n.find("input[name=description]").first();r.on("click",function(){t.val()!=""&&i.val()!=""&&$.post("/tool/posts/feedback",{name:t.val(),description:i.val()})})}($("#feedback-form"));