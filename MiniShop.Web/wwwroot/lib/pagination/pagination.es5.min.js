"use strict";(function(n,t){function i(n){throw new Error("Pagination: "+n);}function e(n){n.dataSource||i('"dataSource" is required.');typeof n.dataSource=="string"?n.totalNumberLocator===undefined?n.totalNumber===undefined?i('"totalNumber" is required.'):t.isNumeric(n.totalNumber)||i('"totalNumber" is incorrect. (Number)'):t.isFunction(n.totalNumberLocator)||i('"totalNumberLocator" should be a Function.'):u.isObject(n.dataSource)&&(typeof n.locator=="undefined"?i('"dataSource" is an Object, please specify "locator".'):typeof n.locator=="string"||t.isFunction(n.locator)||i(""+n.locator+" is incorrect. (String | Function)"));n.formatResult===undefined||t.isFunction(n.formatResult)||i('"formatResult" should be a Function.')}function o(n){t.each(["go","previous","next","disable","enable","refresh","show","hide","destroy"],function(t,i){n.off(r+i)});n.data("pagination",{});t(".paginationjs",n).remove()}function s(n,t){return((t=typeof n)=="object"?n==null&&"null"||Object.prototype.toString.call(n).slice(8,-1):t).toLowerCase()}var u;typeof t=="undefined"&&i("Pagination requires jQuery.");var f="pagination",r="__pagination-";t.fn.pagination&&(f="pagination2");t.fn[f]=function(s){var l;if(typeof s=="undefined")return this;var c=t(this),h=t.extend({},t.fn[f].defaults,s),a={initialize:function(){var n=this,i;(c.data("pagination")||c.data("pagination",{}),n.callHook("beforeInit")!==!1)&&(c.data("pagination").initialized&&t(".paginationjs",c).remove(),n.disabled=!!h.disabled,i=n.model={pageRange:h.pageRange,pageSize:h.pageSize},n.parseDataSource(h.dataSource,function(t){n.isAsync=u.isString(t);u.isArray(t)&&(i.totalNumber=h.totalNumber=t.length);n.isDynamicTotalNumber=n.isAsync&&h.totalNumberLocator;var r=n.render(!0);h.className&&r.addClass(h.className);i.el=r;c[h.position==="bottom"?"append":"prepend"](r);n.observer();c.data("pagination").initialized=!0;n.callHook("afterInit",r)}))},render:function(n){var r=this,c=r.model,o=c.el||t('<div class="paginationjs"><\/div>'),l=n!==!0;r.callHook("beforeRender",l);var s=c.pageNumber||h.pageNumber,u=h.pageRange||0,f=r.getTotalPage(),i=s-u,e=s+u;return e>f&&(e=f,i=f-u*2,i=i<1?1:i),i<=1&&(i=1,e=Math.min(u*2+1,f)),o.html(r.generateHTML({currentPage:s,pageRange:u,rangeStart:i,rangeEnd:e})),h.hideWhenLessThanOnePage&&o[f<=1?"hide":"show"](),r.callHook("afterRender",l),o},generatePageNumbersHTML:function(n){var v=this,e=n.currentPage,f=v.getTotalPage(),o=n.rangeStart,s=n.rangeEnd,r="",t,u=h.pageLink,l=h.ellipsisText,i=h.classPrefix,c=h.activeClassName,a=h.disableClassName;if(h.pageRange===null){for(t=1;t<=f;t++)r+=t==e?'<li class="'+i+"-page J-paginationjs-page "+c+'" data-num="'+t+'"><a>'+t+"<\/a><\/li>":'<li class="'+i+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+u+'">'+t+"<\/a><\/li>";return r}if(o<=3)for(t=1;t<o;t++)r+=t==e?'<li class="'+i+"-page J-paginationjs-page "+c+'" data-num="'+t+'"><a>'+t+"<\/a><\/li>":'<li class="'+i+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+u+'">'+t+"<\/a><\/li>";else h.showFirstOnEllipsisShow&&(r+='<li class="'+i+"-page "+i+'-first J-paginationjs-page" data-num="1"><a href="'+u+'">1<\/a><\/li>'),r+='<li class="'+i+"-ellipsis "+a+'"><a>'+l+"<\/a><\/li>";for(t=o;t<=s;t++)r+=t==e?'<li class="'+i+"-page J-paginationjs-page "+c+'" data-num="'+t+'"><a>'+t+"<\/a><\/li>":'<li class="'+i+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+u+'">'+t+"<\/a><\/li>";if(s>=f-2)for(t=s+1;t<=f;t++)r+='<li class="'+i+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+u+'">'+t+"<\/a><\/li>";else r+='<li class="'+i+"-ellipsis "+a+'"><a>'+l+"<\/a><\/li>",h.showLastOnEllipsisShow&&(r+='<li class="'+i+"-page "+i+'-last J-paginationjs-page" data-num="'+f+'"><a href="'+u+'">'+f+"<\/a><\/li>");return r},generateHTML:function(n){var o=this,i=n.currentPage,u=o.getTotalPage(),f=o.getTotalNumber(),c=h.showPrevious,l=h.showNext,a=h.showPageNumbers,ut=h.showNavigator,ft=h.showGoInput,et=h.showGoButton,v=h.pageLink,y=h.prevText,p=h.nextText,ot=h.goButtonText,s=h.classPrefix,w=h.disableClassName,b=h.ulClassName,r="",k='<input type="text" class="J-paginationjs-go-pagenumber">',d='<input type="button" class="J-paginationjs-go-button" value="'+ot+'">',e,g=t.isFunction(h.formatNavigator)?h.formatNavigator(i,u,f):h.formatNavigator,nt=t.isFunction(h.formatGoInput)?h.formatGoInput(k,i,u,f):h.formatGoInput,tt=t.isFunction(h.formatGoButton)?h.formatGoButton(d,i,u,f):h.formatGoButton,st=t.isFunction(h.autoHidePrevious)?h.autoHidePrevious():h.autoHidePrevious,ht=t.isFunction(h.autoHideNext)?h.autoHideNext():h.autoHideNext,it=t.isFunction(h.header)?h.header(i,u,f):h.header,rt=t.isFunction(h.footer)?h.footer(i,u,f):h.footer;return it&&(e=o.replaceVariables(it,{currentPage:i,totalPage:u,totalNumber:f}),r+=e),(c||a||l)&&(r+='<div class="paginationjs-pages">',r+=b?'<ul class="'+b+'">':"<ul>",c&&(i<=1?st||(r+='<li class="'+s+"-prev "+w+'"><a>'+y+"<\/a><\/li>"):r+='<li class="'+s+'-prev J-paginationjs-previous" data-num="'+(i-1)+'" title="Previous page"><a href="'+v+'">'+y+"<\/a><\/li>"),a&&(r+=o.generatePageNumbersHTML(n)),l&&(i>=u?ht||(r+='<li class="'+s+"-next "+w+'"><a>'+p+"<\/a><\/li>"):r+='<li class="'+s+'-next J-paginationjs-next" data-num="'+(i+1)+'" title="Next page"><a href="'+v+'">'+p+"<\/a><\/li>"),r+="<\/ul><\/div>"),ut&&g&&(e=o.replaceVariables(g,{currentPage:i,totalPage:u,totalNumber:f}),r+='<div class="'+s+'-nav J-paginationjs-nav">'+e+"<\/div>"),ft&&nt&&(e=o.replaceVariables(nt,{currentPage:i,totalPage:u,totalNumber:f,input:k}),r+='<div class="'+s+'-go-input">'+e+"<\/div>"),et&&tt&&(e=o.replaceVariables(tt,{currentPage:i,totalPage:u,totalNumber:f,button:d}),r+='<div class="'+s+'-go-button">'+e+"<\/div>"),rt&&(e=o.replaceVariables(rt,{currentPage:i,totalPage:u,totalNumber:f}),r+=e),r},findTotalNumberFromRemoteResponse:function(n){var t=this;t.model.totalNumber=h.totalNumberLocator(n)},go:function(n,i){function v(n){if(r.callHook("beforePaging",f)===!1)return!1;if(o.direction=typeof o.pageNumber=="undefined"?0:f>o.pageNumber?1:-1,o.pageNumber=f,r.render(),r.disabled&&r.isAsync&&r.enable(),c.data("pagination").model=o,h.formatResult){var e=t.extend(!0,[],n);u.isArray(n=h.formatResult(e))||(n=e)}c.data("pagination").currentPageData=n;r.doCallback(n,i);r.callHook("afterPaging",f);f==1&&r.callHook("afterIsFirstPage");f==r.getTotalPage()&&r.callHook("afterIsLastPage")}var r=this,o=r.model,f,l,s,a,e;if(!r.disabled&&(f=n,f=parseInt(f),f&&!(f<1))){var y=h.pageSize,p=r.getTotalNumber(),w=r.getTotalPage();if(!(p>0)||!(f>w)){if(!r.isAsync){v(r.getDataFragment(f));return}l={};s=h.alias||{};l[s.pageSize?s.pageSize:"pageSize"]=y;l[s.pageNumber?s.pageNumber:"pageNumber"]=f;a=t.isFunction(h.ajax)?h.ajax():h.ajax;e={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json","async":!0};t.extend(!0,e,a);t.extend(e.data,l);e.url=h.dataSource;e.success=function(n){r.isDynamicTotalNumber?r.findTotalNumberFromRemoteResponse(n):r.model.totalNumber=h.totalNumber;var t=r.filterDataByLocator(n);v(t)};e.error=function(n,t,i){h.formatAjaxError&&h.formatAjaxError(n,t,i);r.enable()};r.disable();t.ajax(e)}}},doCallback:function(n,i){var u=this,r=u.model;t.isFunction(i)?i(n,r):t.isFunction(h.callback)&&h.callback(n,r)},destroy:function(){this.callHook("beforeDestroy")!==!1&&(this.model.el.remove(),c.off(),t("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(n){this.go(this.model.pageNumber-1,n)},next:function(n){this.go(this.model.pageNumber+1,n)},disable:function(){var n=this,t=n.isAsync?"async":"sync";n.callHook("beforeDisable",t)!==!1&&(n.disabled=!0,n.model.disabled=!0,n.callHook("afterDisable",t))},enable:function(){var n=this,t=n.isAsync?"async":"sync";n.callHook("beforeEnable",t)!==!1&&(n.disabled=!1,n.model.disabled=!1,n.callHook("afterEnable",t))},refresh:function(n){this.go(this.model.pageNumber,n)},show:function(){var n=this;n.model.el.is(":visible")||n.model.el.show()},hide:function(){var n=this;n.model.el.is(":visible")&&n.model.el.hide()},replaceVariables:function(n,t){var i,r,u,f;for(r in t)u=t[r],f=new RegExp("<%=\\s*"+r+"\\s*%>","img"),i=(i||n).replace(f,u);return i},getDataFragment:function(n){var t=h.pageSize,i=h.dataSource,r=this.getTotalNumber(),u=t*(n-1)+1,f=Math.min(n*t,r);return i.slice(u-1,f)},getTotalNumber:function(){return this.model.totalNumber||h.totalNumber||0},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/h.pageSize)},getLocator:function(n){var r;return typeof n=="string"?r=n:t.isFunction(n)?r=n():i('"locator" is incorrect. (String | Function)'),r},filterDataByLocator:function(n){var f=this.getLocator(h.locator),r;if(u.isObject(n)){try{t.each(f.split("."),function(t,i){r=(r?r:n)[i]})}catch(e){}r?u.isArray(r)||i("dataSource."+f+" must be an Array."):i("dataSource."+f+" is undefined.")}return r||n},parseDataSource:function(n,r){var f=this;u.isObject(n)?r(h.dataSource=f.filterDataByLocator(n)):u.isArray(n)?r(h.dataSource=n):t.isFunction(n)?h.dataSource(function(n){u.isArray(n)||i('The parameter of "done" Function should be an Array.');f.parseDataSource.call(f,n,r)}):typeof n=="string"?(/^https?|file:/.test(n)&&(h.ajaxDataType="jsonp"),r(n)):i('Unexpected type of "dataSource".')},callHook:function(i){var r=c.data("pagination"),u,f=Array.prototype.slice.apply(arguments);return f.shift(),h[i]&&t.isFunction(h[i])&&h[i].apply(n,f)===!1&&(u=!1),r.hooks&&r.hooks[i]&&t.each(r.hooks[i],function(t,i){i.apply(n,f)===!1&&(u=!1)}),u!==!1},observer:function(){var n=this,u=n.model.el,e,f;c.on(r+"go",function(r,u,f){(u=parseInt(t.trim(u)),u)&&(t.isNumeric(u)||i('"pageNumber" is incorrect. (Number)'),n.go(u,f))});u.delegate(".J-paginationjs-page","click",function(i){var u=t(i.currentTarget),r=t.trim(u.attr("data-num"));if(r&&!u.hasClass(h.disableClassName)&&!u.hasClass(h.activeClassName))return n.callHook("beforePageOnClick",i,r)===!1?!1:(n.go(r),n.callHook("afterPageOnClick",i,r),h.pageLink?void 0:!1)});u.delegate(".J-paginationjs-previous","click",function(i){var u=t(i.currentTarget),r=t.trim(u.attr("data-num"));if(r&&!u.hasClass(h.disableClassName))return n.callHook("beforePreviousOnClick",i,r)===!1?!1:(n.go(r),n.callHook("afterPreviousOnClick",i,r),h.pageLink?void 0:!1)});u.delegate(".J-paginationjs-next","click",function(i){var u=t(i.currentTarget),r=t.trim(u.attr("data-num"));if(r&&!u.hasClass(h.disableClassName))return n.callHook("beforeNextOnClick",i,r)===!1?!1:(n.go(r),n.callHook("afterNextOnClick",i,r),h.pageLink?void 0:!1)});u.delegate(".J-paginationjs-go-button","click",function(i){var f=t(".J-paginationjs-go-pagenumber",u).val();if(n.callHook("beforeGoButtonOnClick",i,f)===!1)return!1;c.trigger(r+"go",f);n.callHook("afterGoButtonOnClick",i,f)});u.delegate(".J-paginationjs-go-pagenumber","keyup",function(i){if(i.which===13){var f=t(i.currentTarget).val();if(n.callHook("beforeGoInputOnEnter",i,f)===!1)return!1;c.trigger(r+"go",f);t(".J-paginationjs-go-pagenumber",u).focus();n.callHook("afterGoInputOnEnter",i,f)}});c.on(r+"previous",function(t,i){n.previous(i)});c.on(r+"next",function(t,i){n.next(i)});c.on(r+"disable",function(){n.disable()});c.on(r+"enable",function(){n.enable()});c.on(r+"refresh",function(t,i){n.refresh(i)});c.on(r+"show",function(){n.show()});c.on(r+"hide",function(){n.hide()});c.on(r+"destroy",function(){n.destroy()});e=Math.max(n.getTotalPage(),1);f=h.pageNumber;n.isDynamicTotalNumber&&(f=1);h.triggerPagingOnInit&&c.trigger(r+"go",Math.min(f,e))}};if(c.data("pagination")&&c.data("pagination").initialized===!0){if(t.isNumeric(s))return c.trigger.call(this,r+"go",s,arguments[1]),this;if(typeof s=="string"){l=Array.prototype.slice.apply(arguments);l[0]=r+l[0];switch(s){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":c.trigger.apply(this,l);break;case"getSelectedPageNum":return c.data("pagination").model?c.data("pagination").model.pageNumber:c.data("pagination").attributes.pageNumber;case"getTotalPage":return Math.ceil(c.data("pagination").model.totalNumber/c.data("pagination").model.pageSize);case"getSelectedPageData":return c.data("pagination").currentPageData;case"isDisabled":return c.data("pagination").model.disabled===!0;default:i("Unknown action: "+s)}return this}o(c)}else u.isObject(s)||i("Illegal options");return e(h),a.initialize(),this};t.fn[f].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}};t.fn["addHook"]=function(n,r){arguments.length<2&&i("Missing argument.");t.isFunction(r)||i("callback must be a function.");var f=t(this),u=f.data("pagination");u||(f.data("pagination",{}),u=f.data("pagination"));u.hooks||(u.hooks={});u.hooks[n]=u.hooks[n]||[];u.hooks[n].push(r)};t[f]=function(n,r){arguments.length<2&&i("Requires two parameters.");var u;if(u=typeof n!="string"&&n instanceof jQuery?n:t(n),u.length)return u.pagination(r),u};u={};t.each(["Object","Array","String"],function(n,t){u["is"+t]=function(n){return s(n)===t.toLowerCase()}});typeof define=="function"&&define.amd&&define(function(){return t})})(undefined,window.jQuery),function(n,t){function i(n){throw new Error("Pagination: "+n);}function e(n){n.dataSource||i('"dataSource" is required.');typeof n.dataSource=="string"?n.totalNumberLocator===undefined?n.totalNumber===undefined?i('"totalNumber" is required.'):t.isNumeric(n.totalNumber)||i('"totalNumber" is incorrect. (Number)'):t.isFunction(n.totalNumberLocator)||i('"totalNumberLocator" should be a Function.'):u.isObject(n.dataSource)&&(typeof n.locator=="undefined"?i('"dataSource" is an Object, please specify "locator".'):typeof n.locator=="string"||t.isFunction(n.locator)||i(""+n.locator+" is incorrect. (String | Function)"));n.formatResult===undefined||t.isFunction(n.formatResult)||i('"formatResult" should be a Function.')}function o(n){t.each(["go","previous","next","disable","enable","refresh","show","hide","destroy"],function(t,i){n.off(r+i)});n.data("pagination",{});t(".paginationjs",n).remove()}function s(n,t){return((t=typeof n)=="object"?n==null&&"null"||Object.prototype.toString.call(n).slice(8,-1):t).toLowerCase()}var u;typeof t=="undefined"&&i("Pagination requires jQuery.");var f="pagination",r="__pagination-";t.fn.pagination&&(f="pagination2");t.fn[f]=function(s){var l;if(typeof s=="undefined")return this;var c=t(this),h=t.extend({},t.fn[f].defaults,s),a={initialize:function(){var n=this,i;(c.data("pagination")||c.data("pagination",{}),n.callHook("beforeInit")!==!1)&&(c.data("pagination").initialized&&t(".paginationjs",c).remove(),n.disabled=!!h.disabled,i=n.model={pageRange:h.pageRange,pageSize:h.pageSize},n.parseDataSource(h.dataSource,function(t){n.isAsync=u.isString(t);u.isArray(t)&&(i.totalNumber=h.totalNumber=t.length);n.isDynamicTotalNumber=n.isAsync&&h.totalNumberLocator;var r=n.render(!0);h.className&&r.addClass(h.className);i.el=r;c[h.position==="bottom"?"append":"prepend"](r);n.observer();c.data("pagination").initialized=!0;n.callHook("afterInit",r)}))},render:function(n){var r=this,c=r.model,o=c.el||t('<div class="paginationjs"><\/div>'),l=n!==!0;r.callHook("beforeRender",l);var s=c.pageNumber||h.pageNumber,u=h.pageRange||0,f=r.getTotalPage(),i=s-u,e=s+u;return e>f&&(e=f,i=f-u*2,i=i<1?1:i),i<=1&&(i=1,e=Math.min(u*2+1,f)),o.html(r.generateHTML({currentPage:s,pageRange:u,rangeStart:i,rangeEnd:e})),h.hideWhenLessThanOnePage&&o[f<=1?"hide":"show"](),r.callHook("afterRender",l),o},generatePageNumbersHTML:function(n){var v=this,e=n.currentPage,f=v.getTotalPage(),o=n.rangeStart,s=n.rangeEnd,r="",t,u=h.pageLink,l=h.ellipsisText,i=h.classPrefix,c=h.activeClassName,a=h.disableClassName;if(h.pageRange===null){for(t=1;t<=f;t++)r+=t==e?'<li class="'+i+"-page J-paginationjs-page "+c+'" data-num="'+t+'"><a>'+t+"<\/a><\/li>":'<li class="'+i+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+u+'">'+t+"<\/a><\/li>";return r}if(o<=3)for(t=1;t<o;t++)r+=t==e?'<li class="'+i+"-page J-paginationjs-page "+c+'" data-num="'+t+'"><a>'+t+"<\/a><\/li>":'<li class="'+i+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+u+'">'+t+"<\/a><\/li>";else h.showFirstOnEllipsisShow&&(r+='<li class="'+i+"-page "+i+'-first J-paginationjs-page" data-num="1"><a href="'+u+'">1<\/a><\/li>'),r+='<li class="'+i+"-ellipsis "+a+'"><a>'+l+"<\/a><\/li>";for(t=o;t<=s;t++)r+=t==e?'<li class="'+i+"-page J-paginationjs-page "+c+'" data-num="'+t+'"><a>'+t+"<\/a><\/li>":'<li class="'+i+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+u+'">'+t+"<\/a><\/li>";if(s>=f-2)for(t=s+1;t<=f;t++)r+='<li class="'+i+'-page J-paginationjs-page" data-num="'+t+'"><a href="'+u+'">'+t+"<\/a><\/li>";else r+='<li class="'+i+"-ellipsis "+a+'"><a>'+l+"<\/a><\/li>",h.showLastOnEllipsisShow&&(r+='<li class="'+i+"-page "+i+'-last J-paginationjs-page" data-num="'+f+'"><a href="'+u+'">'+f+"<\/a><\/li>");return r},generateHTML:function(n){var o=this,i=n.currentPage,u=o.getTotalPage(),f=o.getTotalNumber(),c=h.showPrevious,l=h.showNext,a=h.showPageNumbers,ut=h.showNavigator,ft=h.showGoInput,et=h.showGoButton,v=h.pageLink,y=h.prevText,p=h.nextText,ot=h.goButtonText,s=h.classPrefix,w=h.disableClassName,b=h.ulClassName,r="",k='<input type="text" class="J-paginationjs-go-pagenumber">',d='<input type="button" class="J-paginationjs-go-button" value="'+ot+'">',e,g=t.isFunction(h.formatNavigator)?h.formatNavigator(i,u,f):h.formatNavigator,nt=t.isFunction(h.formatGoInput)?h.formatGoInput(k,i,u,f):h.formatGoInput,tt=t.isFunction(h.formatGoButton)?h.formatGoButton(d,i,u,f):h.formatGoButton,st=t.isFunction(h.autoHidePrevious)?h.autoHidePrevious():h.autoHidePrevious,ht=t.isFunction(h.autoHideNext)?h.autoHideNext():h.autoHideNext,it=t.isFunction(h.header)?h.header(i,u,f):h.header,rt=t.isFunction(h.footer)?h.footer(i,u,f):h.footer;return it&&(e=o.replaceVariables(it,{currentPage:i,totalPage:u,totalNumber:f}),r+=e),(c||a||l)&&(r+='<div class="paginationjs-pages">',r+=b?'<ul class="'+b+'">':"<ul>",c&&(i<=1?st||(r+='<li class="'+s+"-prev "+w+'"><a>'+y+"<\/a><\/li>"):r+='<li class="'+s+'-prev J-paginationjs-previous" data-num="'+(i-1)+'" title="Previous page"><a href="'+v+'">'+y+"<\/a><\/li>"),a&&(r+=o.generatePageNumbersHTML(n)),l&&(i>=u?ht||(r+='<li class="'+s+"-next "+w+'"><a>'+p+"<\/a><\/li>"):r+='<li class="'+s+'-next J-paginationjs-next" data-num="'+(i+1)+'" title="Next page"><a href="'+v+'">'+p+"<\/a><\/li>"),r+="<\/ul><\/div>"),ut&&g&&(e=o.replaceVariables(g,{currentPage:i,totalPage:u,totalNumber:f}),r+='<div class="'+s+'-nav J-paginationjs-nav">'+e+"<\/div>"),ft&&nt&&(e=o.replaceVariables(nt,{currentPage:i,totalPage:u,totalNumber:f,input:k}),r+='<div class="'+s+'-go-input">'+e+"<\/div>"),et&&tt&&(e=o.replaceVariables(tt,{currentPage:i,totalPage:u,totalNumber:f,button:d}),r+='<div class="'+s+'-go-button">'+e+"<\/div>"),rt&&(e=o.replaceVariables(rt,{currentPage:i,totalPage:u,totalNumber:f}),r+=e),r},findTotalNumberFromRemoteResponse:function(n){var t=this;t.model.totalNumber=h.totalNumberLocator(n)},go:function(n,i){function v(n){if(r.callHook("beforePaging",f)===!1)return!1;if(o.direction=typeof o.pageNumber=="undefined"?0:f>o.pageNumber?1:-1,o.pageNumber=f,r.render(),r.disabled&&r.isAsync&&r.enable(),c.data("pagination").model=o,h.formatResult){var e=t.extend(!0,[],n);u.isArray(n=h.formatResult(e))||(n=e)}c.data("pagination").currentPageData=n;r.doCallback(n,i);r.callHook("afterPaging",f);f==1&&r.callHook("afterIsFirstPage");f==r.getTotalPage()&&r.callHook("afterIsLastPage")}var r=this,o=r.model,f,l,s,a,e;if(!r.disabled&&(f=n,f=parseInt(f),f&&!(f<1))){var y=h.pageSize,p=r.getTotalNumber(),w=r.getTotalPage();if(!(p>0)||!(f>w)){if(!r.isAsync){v(r.getDataFragment(f));return}l={};s=h.alias||{};l[s.pageSize?s.pageSize:"pageSize"]=y;l[s.pageNumber?s.pageNumber:"pageNumber"]=f;a=t.isFunction(h.ajax)?h.ajax():h.ajax;e={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json","async":!0};t.extend(!0,e,a);t.extend(e.data,l);e.url=h.dataSource;e.success=function(n){r.isDynamicTotalNumber?r.findTotalNumberFromRemoteResponse(n):r.model.totalNumber=h.totalNumber;var t=r.filterDataByLocator(n);v(t)};e.error=function(n,t,i){h.formatAjaxError&&h.formatAjaxError(n,t,i);r.enable()};r.disable();t.ajax(e)}}},doCallback:function(n,i){var u=this,r=u.model;t.isFunction(i)?i(n,r):t.isFunction(h.callback)&&h.callback(n,r)},destroy:function(){this.callHook("beforeDestroy")!==!1&&(this.model.el.remove(),c.off(),t("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(n){this.go(this.model.pageNumber-1,n)},next:function(n){this.go(this.model.pageNumber+1,n)},disable:function(){var n=this,t=n.isAsync?"async":"sync";n.callHook("beforeDisable",t)!==!1&&(n.disabled=!0,n.model.disabled=!0,n.callHook("afterDisable",t))},enable:function(){var n=this,t=n.isAsync?"async":"sync";n.callHook("beforeEnable",t)!==!1&&(n.disabled=!1,n.model.disabled=!1,n.callHook("afterEnable",t))},refresh:function(n){this.go(this.model.pageNumber,n)},show:function(){var n=this;n.model.el.is(":visible")||n.model.el.show()},hide:function(){var n=this;n.model.el.is(":visible")&&n.model.el.hide()},replaceVariables:function(n,t){var i,r,u,f;for(r in t)u=t[r],f=new RegExp("<%=\\s*"+r+"\\s*%>","img"),i=(i||n).replace(f,u);return i},getDataFragment:function(n){var t=h.pageSize,i=h.dataSource,r=this.getTotalNumber(),u=t*(n-1)+1,f=Math.min(n*t,r);return i.slice(u-1,f)},getTotalNumber:function(){return this.model.totalNumber||h.totalNumber||0},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/h.pageSize)},getLocator:function(n){var r;return typeof n=="string"?r=n:t.isFunction(n)?r=n():i('"locator" is incorrect. (String | Function)'),r},filterDataByLocator:function(n){var f=this.getLocator(h.locator),r;if(u.isObject(n)){try{t.each(f.split("."),function(t,i){r=(r?r:n)[i]})}catch(e){}r?u.isArray(r)||i("dataSource."+f+" must be an Array."):i("dataSource."+f+" is undefined.")}return r||n},parseDataSource:function(n,r){var f=this;u.isObject(n)?r(h.dataSource=f.filterDataByLocator(n)):u.isArray(n)?r(h.dataSource=n):t.isFunction(n)?h.dataSource(function(n){u.isArray(n)||i('The parameter of "done" Function should be an Array.');f.parseDataSource.call(f,n,r)}):typeof n=="string"?(/^https?|file:/.test(n)&&(h.ajaxDataType="jsonp"),r(n)):i('Unexpected type of "dataSource".')},callHook:function(i){var r=c.data("pagination"),u,f=Array.prototype.slice.apply(arguments);return f.shift(),h[i]&&t.isFunction(h[i])&&h[i].apply(n,f)===!1&&(u=!1),r.hooks&&r.hooks[i]&&t.each(r.hooks[i],function(t,i){i.apply(n,f)===!1&&(u=!1)}),u!==!1},observer:function(){var n=this,u=n.model.el,e,f;c.on(r+"go",function(r,u,f){(u=parseInt(t.trim(u)),u)&&(t.isNumeric(u)||i('"pageNumber" is incorrect. (Number)'),n.go(u,f))});u.delegate(".J-paginationjs-page","click",function(i){var u=t(i.currentTarget),r=t.trim(u.attr("data-num"));if(r&&!u.hasClass(h.disableClassName)&&!u.hasClass(h.activeClassName))return n.callHook("beforePageOnClick",i,r)===!1?!1:(n.go(r),n.callHook("afterPageOnClick",i,r),h.pageLink?void 0:!1)});u.delegate(".J-paginationjs-previous","click",function(i){var u=t(i.currentTarget),r=t.trim(u.attr("data-num"));if(r&&!u.hasClass(h.disableClassName))return n.callHook("beforePreviousOnClick",i,r)===!1?!1:(n.go(r),n.callHook("afterPreviousOnClick",i,r),h.pageLink?void 0:!1)});u.delegate(".J-paginationjs-next","click",function(i){var u=t(i.currentTarget),r=t.trim(u.attr("data-num"));if(r&&!u.hasClass(h.disableClassName))return n.callHook("beforeNextOnClick",i,r)===!1?!1:(n.go(r),n.callHook("afterNextOnClick",i,r),h.pageLink?void 0:!1)});u.delegate(".J-paginationjs-go-button","click",function(i){var f=t(".J-paginationjs-go-pagenumber",u).val();if(n.callHook("beforeGoButtonOnClick",i,f)===!1)return!1;c.trigger(r+"go",f);n.callHook("afterGoButtonOnClick",i,f)});u.delegate(".J-paginationjs-go-pagenumber","keyup",function(i){if(i.which===13){var f=t(i.currentTarget).val();if(n.callHook("beforeGoInputOnEnter",i,f)===!1)return!1;c.trigger(r+"go",f);t(".J-paginationjs-go-pagenumber",u).focus();n.callHook("afterGoInputOnEnter",i,f)}});c.on(r+"previous",function(t,i){n.previous(i)});c.on(r+"next",function(t,i){n.next(i)});c.on(r+"disable",function(){n.disable()});c.on(r+"enable",function(){n.enable()});c.on(r+"refresh",function(t,i){n.refresh(i)});c.on(r+"show",function(){n.show()});c.on(r+"hide",function(){n.hide()});c.on(r+"destroy",function(){n.destroy()});e=Math.max(n.getTotalPage(),1);f=h.pageNumber;n.isDynamicTotalNumber&&(f=1);h.triggerPagingOnInit&&c.trigger(r+"go",Math.min(f,e))}};if(c.data("pagination")&&c.data("pagination").initialized===!0){if(t.isNumeric(s))return c.trigger.call(this,r+"go",s,arguments[1]),this;if(typeof s=="string"){l=Array.prototype.slice.apply(arguments);l[0]=r+l[0];switch(s){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":c.trigger.apply(this,l);break;case"getSelectedPageNum":return c.data("pagination").model?c.data("pagination").model.pageNumber:c.data("pagination").attributes.pageNumber;case"getTotalPage":return Math.ceil(c.data("pagination").model.totalNumber/c.data("pagination").model.pageSize);case"getSelectedPageData":return c.data("pagination").currentPageData;case"isDisabled":return c.data("pagination").model.disabled===!0;default:i("Unknown action: "+s)}return this}o(c)}else u.isObject(s)||i("Illegal options");return e(h),a.initialize(),this};t.fn[f].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}};t.fn["addHook"]=function(n,r){arguments.length<2&&i("Missing argument.");t.isFunction(r)||i("callback must be a function.");var f=t(this),u=f.data("pagination");u||(f.data("pagination",{}),u=f.data("pagination"));u.hooks||(u.hooks={});u.hooks[n]=u.hooks[n]||[];u.hooks[n].push(r)};t[f]=function(n,r){arguments.length<2&&i("Requires two parameters.");var u;if(u=typeof n!="string"&&n instanceof jQuery?n:t(n),u.length)return u.pagination(r),u};u={};t.each(["Object","Array","String"],function(n,t){u["is"+t]=function(n){return s(n)===t.toLowerCase()}});typeof define=="function"&&define.amd&&define(function(){return t})}(undefined,window.jQuery);